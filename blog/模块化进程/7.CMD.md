# Common Module Definition

- CMD 规范专门用于浏览器端，`模块的加载是异步的，模块使用时才会加载执行`。CMD 规范整合了 CommonJS 和 AMD 规范的特点。在 Sea.js 中，所有 JavaScript 模块都遵循 CMD 模块定义规范。

```javascript
//定义没有依赖的模块
define(function (require, exports, module) {
  exports.xxx = value;
  module.exports = value;
});

//定义有依赖的模块
define(function (require, exports, module) {
  //引入依赖模块(同步)
  var module2 = require("./module2");
  //引入依赖模块(异步)
  require.async("./module3", function (m3) {});
  //暴露模块
  exports.xxx = value;
});

// 引入使用的模块
define(function (require) {
  var m1 = require("./module1");
  var m4 = require("./module4");
  m1.show();
  m4.show();
});
```

## 4. AMD 与 CMD 区别

```javascript
// CMD
define(function (requie, exports, module) {
  //依赖就近书写
  var module1 = require("Module1");
  var result1 = module1.exec();
  module.exports = {
    result1: result1,
  };
});

// AMD
define(["Module1"], function (module1) {
  var result1 = module1.exec();
  return {
    result1: result1,
  };
});
```

> 从上面的代码比较中我们可以得出 AMD 规范和 CMD 规范的区别

1. 对依赖的处理：
   ● AMD 推崇依赖前置，即通过依赖数组的方式提前声明当前模块的依赖；
   ● CMD 推崇依赖就近，在编程需要用到的时候通过调用 require 方法动态引入；
2. 在本模块的对外输出：
   ● AMD 推崇通过返回值的方式对外输出；
   ● CMD 推崇通过给 module.exports 赋值的方式对外输出；
